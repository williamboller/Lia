<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Countdown to Lia</title>

  <!-- ✅ 4) Favicon ❤️ (inline SVG, no extra files needed) -->
  <link rel="icon" type="image/svg+xml"
        href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">❤️</text></svg>'>

  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#111a33;
      --text:#eaf0ff;
      --muted:#b7c0dd;
      --accent:#7aa2ff;
      --shadow: 0 20px 60px rgba(0,0,0,.35);
      --stroke: rgba(255,255,255,.10);
      --card: rgba(15, 23, 42, .78);

      /* dynamic theme vars (JS updates these) */
      --accent2: rgba(122,162,255,.22);
      --accent3: rgba(122,162,255,.16);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px 16px;
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;

      /* ✅ 5) Background changes by time-of-day + urgency (CSS vars driven) */
      background:
        radial-gradient(900px 500px at 15% 20%, var(--accent2), transparent 60%),
        radial-gradient(900px 500px at 85% 80%, var(--accent3), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));

      transition: background 600ms ease, color 400ms ease;
    }

    .wrap{
      width:min(980px, 100%);
      text-align:center;
    }

    /* Top tabs */
    .tabs{
      display:flex;
      gap:10px;
      justify-content:center;
      margin-bottom:14px;
      flex-wrap:wrap;
    }
    .tab{
      appearance:none;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(234,240,255,.9);
      padding: 10px 14px;
      border-radius: 999px;
      font-weight: 800;
      letter-spacing: -0.01em;
      cursor: pointer;
      transition: transform .12s ease, background .2s ease, border-color .2s ease;
    }
    .tab:hover{ transform: translateY(-1px); }
    .tab.active{
      background: rgba(122,162,255,.16);
      border-color: rgba(122,162,255,.35);
      color: rgba(234,240,255,1);
    }

    .card{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: 28px;
      padding: 44px 22px 36px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      transition: border-color 500ms ease, box-shadow 500ms ease;
    }

    h1{
      margin:0 0 12px;
      font-size: clamp(34px, 5vw, 72px);
      font-weight:900;
      letter-spacing: -0.02em;
    }

    .sub{
      font-size: 22px;
      color: var(--muted);
      margin-bottom: 10px;
      font-weight: 750;
    }

    /* ✅ 3) Milestone message */
    .milestone{
      margin: 0 0 14px;
      font-size: 16px;
      color: rgba(234,240,255,.92);
      opacity: .95;
      font-weight: 750;
      min-height: 22px;
    }

    .countGrid{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:12px;
      margin: 12px auto 18px;
      padding:14px;
      border-radius:18px;
      background: rgba(122,162,255,.07);
      border:1px solid rgba(122,162,255,.18);
      transition: background 500ms ease, border-color 500ms ease;
    }

    .unit{
      padding:14px;
      border-radius:16px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.09);
      position: relative;
      overflow: hidden;
      transition: transform 180ms ease, border-color 500ms ease, box-shadow 500ms ease;
    }

    .num{
      font-size: 38px;
      font-weight:900;

      /* ✅ 1) Animate number changes */
      display:inline-block;
      transition: transform 180ms ease, opacity 180ms ease;
      will-change: transform, opacity;
    }
    .num.bump{
      transform: translateY(-6px) scale(1.03);
      opacity: .92;
    }

    .lbl{
      margin-top:6px;
      font-size:13px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.1em;
      font-weight: 800;
    }

    /* ✅ 8) Clickable seconds box */
    .unit.clickable{ cursor:pointer; }
    .unit.clickable:hover{ transform: translateY(-2px); }

    /* ✅ subtle animated glow on seconds box (also changes with urgency) */
    .unit.seconds{
      border-color: rgba(122,162,255,.30);
      box-shadow: 0 0 0 rgba(122,162,255,0);
    }
    .unit.seconds::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at 50% 50%, rgba(122,162,255,.35), transparent 55%);
      opacity:.22;
      animation: glowPulse 1.6s ease-in-out infinite;
      pointer-events:none;
    }
    .unit.seconds::after{
      content:"";
      position:absolute;
      inset:0;
      border-radius:16px;
      box-shadow: 0 0 22px rgba(122,162,255,.18);
      opacity:.35;
      animation: glowRing 1.6s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes glowPulse{
      0%,100%{ transform: scale(.94); opacity:.18; }
      50%{ transform: scale(1.02); opacity:.30; }
    }
    @keyframes glowRing{
      0%,100%{ opacity:.22; }
      50%{ opacity:.42; }
    }

    .sectionTitle{
      font-size:32px;
      margin: 18px 0 14px;
      font-weight:900;
      letter-spacing: -0.02em;
    }

    .statsGrid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }

    .statCard{
      padding:16px;
      border-radius:18px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.09);
      transition: border-color 500ms ease, background 500ms ease;
    }

    .statLabel{
      font-size:13px;
      color:var(--muted);
      letter-spacing:.1em;
      text-transform:uppercase;
      margin-bottom:6px;
      font-weight: 800;
    }

    .statValue{
      font-size:28px;
      font-weight:900;
      letter-spacing: -0.02em;
    }

    /* Under-box message */
    .soon{
      margin-top: 18px;
      font-size:16px;
      opacity:.9;
      font-weight: 800;
    }

    /* Panels (multiple countdowns) */
    .panel{ display:none; }
    .panel.active{ display:block; }

    /* ✅ Modal for fun facts */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.55);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 9999;
      backdrop-filter: blur(6px);
    }
    .modalOverlay.show{ display:flex; }

    .modal{
      width: min(520px, 100%);
      border-radius: 20px;
      background: rgba(15, 23, 42, .92);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 30px 80px rgba(0,0,0,.45);
      padding: 18px 18px 14px;
      text-align: left;
      position: relative;
    }
    .modal h3{
      margin: 2px 0 10px;
      font-size: 18px;
      letter-spacing: -0.01em;
    }
    .modal p{
      margin: 0 0 12px;
      color: rgba(234,240,255,.92);
      line-height: 1.35;
    }
    .modal .x{
      position:absolute;
      top: 10px;
      right: 10px;
      width: 38px;
      height: 38px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(234,240,255,.9);
      font-size: 18px;
      font-weight: 900;
      cursor: pointer;
    }
    .modal .x:hover{
      background: rgba(122,162,255,.18);
      border-color: rgba(122,162,255,.35);
    }

    @media (max-width:720px){
      .countGrid{ grid-template-columns: repeat(2,1fr); }
      .statsGrid{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- ✅ 1️⃣1) Multiple countdowns via tabs -->
    <div class="tabs" role="tablist" aria-label="Countdown tabs">
      <button class="tab active" id="tabCountdown" type="button">Until</button>
      <button class="tab" id="tabSince" type="button">Since</button>
    </div>

    <!-- PANEL: COUNTDOWN -->
    <div class="panel active" id="panelCountdown">
      <div class="card">
        <h1>Will Sees Lia</h1>
        <div class="sub">In</div>

        <div class="milestone" id="milestoneCountdown"></div>

        <div class="countGrid">
          <div class="unit"><div class="num" id="d">—</div><div class="lbl" id="dLbl">Days</div></div>
          <div class="unit"><div class="num" id="h">—</div><div class="lbl" id="hLbl">Hours</div></div>
          <div class="unit"><div class="num" id="m">—</div><div class="lbl" id="mLbl">Minutes</div></div>

          <!-- ✅ seconds is clickable + glow -->
          <div class="unit seconds clickable" id="secondsBox" title="Click for a fun fact">
            <div class="num" id="s">—</div>
            <div class="lbl" id="sLbl">Seconds</div>
          </div>
        </div>

        <div class="sectionTitle">That’s</div>

        <div class="statsGrid">
          <div class="statCard">
            <div class="statLabel">Total Hours</div>
            <div class="statValue" id="th">—</div>
          </div>
          <div class="statCard">
            <div class="statLabel">Total Minutes</div>
            <div class="statValue" id="tm">—</div>
          </div>
          <div class="statCard">
            <div class="statLabel">Total Seconds</div>
            <div class="statValue" id="ts">—</div>
          </div>
        </div>
      </div>

      <div class="soon">See you soon ❤️</div>
    </div>

    <!-- PANEL: COUNT UP (since last time) -->
    <div class="panel" id="panelSince">
      <div class="card">
        <h1>Time Since We’ve Seen Each Other</h1>
        <div class="sub">Since 12/19/2025 • 4:20 PM ET</div>

        <div class="milestone" id="milestoneSince"></div>

        <div class="countGrid">
          <div class="unit"><div class="num" id="sd">—</div><div class="lbl" id="sdLbl">Days</div></div>
          <div class="unit"><div class="num" id="sh">—</div><div class="lbl" id="shLbl">Hours</div></div>
          <div class="unit"><div class="num" id="sm">—</div><div class="lbl" id="smLbl">Minutes</div></div>
          <div class="unit"><div class="num" id="ss">—</div><div class="lbl" id="ssLbl">Seconds</div></div>
        </div>

        <div class="sectionTitle">That’s</div>

        <div class="statsGrid">
          <div class="statCard">
            <div class="statLabel">Total Hours</div>
            <div class="statValue" id="sth">—</div>
          </div>
          <div class="statCard">
            <div class="statLabel">Total Minutes</div>
            <div class="statValue" id="stm">—</div>
          </div>
          <div class="statCard">
            <div class="statLabel">Total Seconds</div>
            <div class="statValue" id="sts">—</div>
          </div>
        </div>
      </div>

      <div class="soon">One day closer ❤️</div>
    </div>

  </div>

  <!-- ✅ Modal -->
  <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="x" id="modalClose" aria-label="Close">✕</button>
      <h3 id="modalTitle">Fun Fact</h3>
      <p id="modalText">Loading…</p>
    </div>
  </div>

  <script>
    // === Time anchors ===
    // Countdown target: Jan 4, 2026 at 12:00 PM Eastern (EST=UTC-5) => 17:00 UTC
    const TARGET = Date.UTC(2026,0,4,17,0,0);

    // Count-up start: Dec 19, 2025 at 4:20 PM Eastern (EST=UTC-5) => 21:20 UTC
    const SINCE = Date.UTC(2025,11,19,21,20,0);

    // === Elements (Countdown) ===
    const d=document.getElementById("d"),
          h=document.getElementById("h"),
          m=document.getElementById("m"),
          s=document.getElementById("s"),
          th=document.getElementById("th"),
          tm=document.getElementById("tm"),
          ts=document.getElementById("ts");

    const dLbl=document.getElementById("dLbl"),
          hLbl=document.getElementById("hLbl"),
          mLbl=document.getElementById("mLbl"),
          sLbl=document.getElementById("sLbl");

    const milestoneCountdown = document.getElementById("milestoneCountdown");

    // === Elements (Since) ===
    const sd=document.getElementById("sd"),
          sh=document.getElementById("sh"),
          sm=document.getElementById("sm"),
          ss=document.getElementById("ss"),
          sth=document.getElementById("sth"),
          stm=document.getElementById("stm"),
          sts=document.getElementById("sts");

    const sdLbl=document.getElementById("sdLbl"),
          shLbl=document.getElementById("shLbl"),
          smLbl=document.getElementById("smLbl"),
          ssLbl=document.getElementById("ssLbl");

    const milestoneSince = document.getElementById("milestoneSince");

    // === Tabs ===
    const tabCountdown = document.getElementById("tabCountdown");
    const tabSince = document.getElementById("tabSince");
    const panelCountdown = document.getElementById("panelCountdown");
    const panelSince = document.getElementById("panelSince");

    tabCountdown.addEventListener("click", () => {
      tabCountdown.classList.add("active");
      tabSince.classList.remove("active");
      panelCountdown.classList.add("active");
      panelSince.classList.remove("active");
    });

    tabSince.addEventListener("click", () => {
      tabSince.classList.add("active");
      tabCountdown.classList.remove("active");
      panelSince.classList.add("active");
      panelCountdown.classList.remove("active");
    });

    // === Helpers ===
    const pad=n=>String(n).padStart(2,"0");
    const fmt=n=>n.toLocaleString("en-US");

    function plural(n, one, many){
      return (n===1) ? one : many;
    }

    // ✅ 1) Animate numbers when they change
    function setNumber(el, newText){
      if (el.textContent !== newText){
        el.classList.remove("bump");
        // force reflow so animation retriggers
        void el.offsetWidth;
        el.textContent = newText;
        el.classList.add("bump");
        setTimeout(() => el.classList.remove("bump"), 190);
      }
    }

    // ✅ 2 + 5) Dynamic theme: time-of-day + urgency color shifts
    function applyTheme(secondsRemaining){
      const hour = new Date().getHours(); // viewer local time (nice effect)
      let bg1 = "#0b1020", bg2 = "#111a33";

      // time-of-day base
      if (hour >= 6 && hour < 12){        // morning
        bg1 = "#0a1330"; bg2 = "#121f45";
      } else if (hour >= 12 && hour < 18){// afternoon
        bg1 = "#08102a"; bg2 = "#0f1a3a";
      } else if (hour >= 18 && hour < 22){// evening
        bg1 = "#090f24"; bg2 = "#0d1635";
      } else {                             // late night
        bg1 = "#060a18"; bg2 = "#0a1128";
      }

      // urgency accent
      let a2 = "rgba(122,162,255,.22)";
      let a3 = "rgba(122,162,255,.16)";
      let borderHot = "rgba(122,162,255,.18)";

      if (secondsRemaining <= 3600 * 24){ // < 24 hours
        a2 = "rgba(255,105,180,.22)";     // pink
        a3 = "rgba(255,165,0,.14)";       // warm
        borderHot = "rgba(255,105,180,.22)";
      } else if (secondsRemaining <= 3600 * 24 * 7){ // < 7 days
        a2 = "rgba(122,255,197,.18)";     // teal
        a3 = "rgba(122,162,255,.14)";
        borderHot = "rgba(122,255,197,.20)";
      }

      document.documentElement.style.setProperty("--bg1", bg1);
      document.documentElement.style.setProperty("--bg2", bg2);
      document.documentElement.style.setProperty("--accent2", a2);
      document.documentElement.style.setProperty("--accent3", a3);

      // also nudge the countdown grid border a bit
      const grids = document.querySelectorAll(".countGrid");
      grids.forEach(g => g.style.borderColor = borderHot);
    }

    // ✅ 3) Milestone messages
    function milestoneText(secondsRemaining){
      if (secondsRemaining <= 0) return "It’s time. ❤️";
      if (secondsRemaining <= 60) return "One minute. Breathe.";
      if (secondsRemaining <= 3600) return "Less than an hour.";
      if (secondsRemaining <= 3600*24) return "Tomorrow.";
      if (secondsRemaining <= 3600*24*2) return "Two days.";
      if (secondsRemaining <= 3600*24*7) return "One week.";
      return "Counting down…";
    }

    function milestoneTextSince(totalSeconds){
      if (totalSeconds < 60) return "Just now.";
      if (totalSeconds < 3600) return "Less than an hour ago.";
      if (totalSeconds < 3600*24) return "Earlier today.";
      if (totalSeconds < 3600*24*2) return "Yesterday.";
      return "Time keeps moving…";
    }

    // ✅ 8) Modal fun facts on seconds click
    const secondsBox = document.getElementById("secondsBox");
    const modalOverlay = document.getElementById("modalOverlay");
    const modalClose = document.getElementById("modalClose");
    const modalText = document.getElementById("modalText");

    function openModal(text){
      modalText.textContent = text;
      modalOverlay.classList.add("show");
      modalOverlay.setAttribute("aria-hidden","false");
    }
    function closeModal(){
      modalOverlay.classList.remove("show");
      modalOverlay.setAttribute("aria-hidden","true");
    }
    modalClose.addEventListener("click", closeModal);
    modalOverlay.addEventListener("click", (e) => {
      if (e.target === modalOverlay) closeModal();
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });

    function randomFact(secondsRemaining){
      const totalMinutes = Math.floor(secondsRemaining / 60);
      const totalHours = Math.floor(secondsRemaining / 3600);
      const days = Math.floor(secondsRemaining / 86400);

      const facts = [
        `That’s about ${fmt(totalMinutes)} minutes left — basically ${fmt(Math.floor(totalMinutes/60))} hours and change.`,
        `If you listened to 3-minute songs nonstop, that’s roughly ${fmt(Math.floor(totalMinutes/3))} songs.`,
        `That’s about ${fmt(Math.floor(secondsRemaining / 86400))} day(s) and ${pad(Math.floor((secondsRemaining % 86400) / 3600))} hour(s) left.`,
        `You’re inside the final ${fmt(totalHours)} hour(s). Keep going.`,
        `Fun math: ${fmt(secondsRemaining)} seconds = ${fmt(totalMinutes)} minutes = ${fmt(totalHours)} hours.`,
        `Closer by the second. ❤️ (${fmt(days)} day(s) left)`
      ];
      return facts[Math.floor(Math.random() * facts.length)];
    }

    secondsBox.addEventListener("click", () => {
      // uses latest computed value from window._lastRemainingSeconds
      const rem = window._lastRemainingSeconds ?? 0;
      openModal(randomFact(rem));
    });

    // === Main ticks ===
    function tickCountdown(){
      let diff = TARGET - Date.now();
      if(diff < 0) diff = 0;

      const sec = Math.floor(diff/1000);
      window._lastRemainingSeconds = sec;

      const days=Math.floor(sec/86400);
      const hrs=Math.floor((sec%86400)/3600);
      const mins=Math.floor((sec%3600)/60);
      const secs=sec%60;

      setNumber(d, fmt(days));
      setNumber(h, pad(hrs));
      setNumber(m, pad(mins));
      setNumber(s, pad(secs));

      dLbl.textContent = plural(days, "Day", "Days");
      hLbl.textContent = plural(hrs, "Hour", "Hours");
      mLbl.textContent = plural(mins, "Minute", "Minutes");
      sLbl.textContent = plural(secs, "Second", "Seconds");

      th.textContent = fmt(Math.floor(sec/3600));
      tm.textContent = fmt(Math.floor(sec/60));
      ts.textContent = fmt(sec);

      milestoneCountdown.textContent = milestoneText(sec);

      // theme + urgency
      applyTheme(sec);

      // also adjust seconds glow intensity near the end
      const secondsUnit = document.getElementById("secondsBox");
      if (sec <= 3600*24){
        secondsUnit.style.borderColor = "rgba(255,105,180,.40)";
      } else if (sec <= 3600*24*7){
        secondsUnit.style.borderColor = "rgba(122,255,197,.35)";
      } else {
        secondsUnit.style.borderColor = "rgba(122,162,255,.30)";
      }
    }

    function tickSince(){
      let diff = Date.now() - SINCE;
      if(diff < 0) diff = 0;

      const sec = Math.floor(diff/1000);

      const days=Math.floor(sec/86400);
      const hrs=Math.floor((sec%86400)/3600);
      const mins=Math.floor((sec%3600)/60);
      const secs=sec%60;

      setNumber(sd, fmt(days));
      setNumber(sh, pad(hrs));
      setNumber(sm, pad(mins));
      setNumber(ss, pad(secs));

      sdLbl.textContent = plural(days, "Day", "Days");
      shLbl.textContent = plural(hrs, "Hour", "Hours");
      smLbl.textContent = plural(mins, "Minute", "Minutes");
      ssLbl.textContent = plural(secs, "Second", "Seconds");

      sth.textContent = fmt(Math.floor(sec/3600));
      stm.textContent = fmt(Math.floor(sec/60));
      sts.textContent = fmt(sec);

      milestoneSince.textContent = milestoneTextSince(sec);
    }

    function tickAll(){
      tickCountdown();
      tickSince();
    }

    tickAll();
    setInterval(tickAll, 1000);
  </script>
</body>
</html>
